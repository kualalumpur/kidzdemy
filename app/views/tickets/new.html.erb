<div class = "event">

  <div class="container">
    <div class="row">
      <div class="col-xs-12 well">

        <%= form_for(@ticket, url: tickets_path(@event), html: { id: "ticket-create-form" }) do |f| %>
        <h1 class="text-center">
          Create Ticket
        </h1>

        <div class="form-group">
          <h4> <%= f.label :text_field, "Ticket Type" %> </h4>
          <%= f.select :ttype, options_for_select([["Free Ticket", :free],["Paid Ticket", :paid]]), required: true, class: 'form-control' %>
        </div>

        <div class="form-group">
          <h4> <%= f.label :text_field, "Ticket Name" %> </h4>
          <%= f.text_field :name, required: true, id: "ticket_name_field", class: 'form-control' %>
        </div>

        <div class="form-group">
          <h4> <%= f.label :text_field, "Quantity Available" %> </h4>
          <%= f.number_field :quantity, required: true, id: "ticket_type_field", class: 'form-control' %>
        </div>

        <div class="form-group" id="ticket_price_field" style="display:none;">
          <h4> <%= f.label :text_field, "Price (RM)" %> </h4>
          <%= f.number_field :price, value: number_to_currency(f.object.price.to_f, delimiter: '', unit: ''), step: :any, class: 'form-control' %>
        </div>

        <div class="form-group text-center">
          <%= link_to "Cancel", :back, {:class=>"btn btn-primary"} %>
          <%= f.submit "Create Ticket", class: "btn btn-primary" %>
        </div>

        <% end %>

        <script language="JavaScript" type="text/javascript">
        $(document).ready(function(){
          $('#ticket_ttype').on('change', function() {
            if ( this.value ==="paid")
            {
              $("#ticket_price_field").show();
            }
            else
            {
              $("#ticket_price_field").hide();
              $('#ticket_price').val("0.00");
            }
          });
        });
        </script>

      </div>
    </div>
  </div>
</div>































<!-- <%= form_for(@ticket, url: tickets_path(@event), html: { id: "ticket-create-form" }) do |f| %>
<h1 class="text-center">
Create Ticket
</h1>

<div class="form-group">
<h4> <%= f.label :text_field, "Ticket Type" %> </h4>
<%= f.select :ttype, options_for_select([["Free Ticket", :free],["Paid Ticket", :paid]]), required: true, class: 'form-control' %>
</div>

<div class="form-group">
<h4> <%= f.label :text_field, "Ticket Name" %> </h4>
<%= f.text_field :name, required: true, id: "ticket_name_field", class: 'form-control' %>
</div>

<div class="form-group">
<h4> <%= f.label :text_field, "Quantity Available" %> </h4>
<%= f.number_field :quantity, required: true, id: "ticket_type_field", class: 'form-control' %>
</div>

<div class="form-group" id="ticket_price_field" style="display:none;">
<h4> <%= f.label :text_field, "Price" %> </h4>
<%= f.number_field :price, value: number_to_currency(f.object.price.to_f, delimiter: '', unit: ''), step: :any, class: 'form-control' %>
</div>


<div class="form-group text-center">
<%= f.submit "Create Ticket", class: "btn btn-success btn-lg" %>
</div>

<% end %>

<script language="JavaScript" type="text/javascript">
$(document).ready(function(){
$('#ticket_ttype').on('change', function() {
if ( this.value ==="paid")
{
$("#ticket_price_field").show();
}
else
{
$("#ticket_price_field").hide();
$('#ticket_price').val("0.00");
}
});
});
</script> -->
